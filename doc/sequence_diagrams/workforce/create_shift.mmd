sequenceDiagram
    participant Admin as Company Admin
    participant LB as Load Balancer
    participant Gateway as API Gateway
    participant Auth as Auth Service
    participant Workforce as Workforce Service
    participant Cache as Redis Cache
    participant DB as PostgreSQL
    participant Queue as Message Queue

    Admin->>+LB: POST /api/v1/shifts
    Note over Admin,LB: {name, start_time, end_time, break_duration, days_of_week}
    
    LB->>+Gateway: Forward request
    Gateway->>+Auth: Validate admin token
    Auth-->>-Gateway: Authorized for company
    
    Gateway->>+Workforce: POST /api/v1/shifts
    
    Workforce->>Workforce: Validate shift data
    Note over Workforce: Time validation, overlap checks
    
    Workforce->>+DB: Check for conflicting shifts
    Note over Workforce,DB: Prevent overlapping shifts for same employees
    DB-->>-Workforce: Conflict check result
    
    alt Conflicting shifts found
        Workforce-->>Gateway: 409 Conflict - Overlapping shifts
    else No conflicts
        Workforce->>+DB: INSERT INTO shifts
        Note over Workforce,DB: Create shift with company_id
        DB-->>-Workforce: Shift created
        
        par Cache new shift
            Workforce->>+Cache: Set shift_info:{shift_id}
            Note over Workforce,Cache: TTL: 24 hours
            Cache-->>-Workforce: Cached
        and Invalidate shift lists
            Workforce->>+Cache: DELETE shifts_list:{company_id}:*
            Note over Workforce,Cache: Clear cached shift listings
            Cache-->>-Workforce: Cache cleared
        and Trigger schedule updates
            Workforce->>+Queue: Publish ShiftCreated event
            Note over Workforce,Queue: Update related schedules
            Queue-->>-Workforce: Event published
        end
        
        Workforce-->>-Gateway: 201 Created - Shift created
    end
    
    Gateway-->>-LB: Response
    LB-->>-Admin: Shift creation result
    
    Note over Admin,DB: Workforce management optimizations:
    Note over Admin,DB: 1. Shift template library
    Note over Admin,DB: 2. Automated conflict detection
    Note over Admin,DB: 3. Bulk shift operations
    Note over Admin,DB: 4. Shift coverage analytics