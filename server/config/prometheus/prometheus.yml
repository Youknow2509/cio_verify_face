# Prometheus Configuration
global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: 'cio-verify-face-monitor'

# Alerting configuration
alerting:
  alertmanagers:
    - static_configs:
        - targets: []

# Rule files
rule_files:
  - "alerts.yml"

# Scrape configurations
scrape_configs:
  # Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
        labels:
          service: 'prometheus'

  # Auth Service
  - job_name: 'service-auth'
    static_configs:
      - targets: ['service-auth:9090']
        labels:
          service: 'service-auth'
          environment: 'production'
    metrics_path: /metrics

  # Attendance Service
  - job_name: 'service-attendance'
    static_configs:
      - targets: ['service-attendance:9090']
        labels:
          service: 'service-attendance'
          environment: 'production'
    metrics_path: /metrics

  # Analytic Service
  - job_name: 'service-analytic'
    static_configs:
      - targets: ['service-analytic:9090']
        labels:
          service: 'service-analytic'
          environment: 'production'
    metrics_path: /metrics

  # Device Service
  - job_name: 'service-device'
    static_configs:
      - targets: ['service-device:9090']
        labels:
          service: 'service-device'
          environment: 'production'
    metrics_path: /metrics

  # Notification Service
  - job_name: 'service-notification'
    static_configs:
      - targets: ['service-notification:9090']
        labels:
          service: 'service-notification'
          environment: 'production'
    metrics_path: /metrics

  # Profile Update Service
  - job_name: 'service-profile-update'
    static_configs:
      - targets: ['service-profile-update:9090']
        labels:
          service: 'service-profile-update'
          environment: 'production'
    metrics_path: /metrics

  # Workforce Service
  - job_name: 'service-workforce'
    static_configs:
      - targets: ['service-workforce:9090']
        labels:
          service: 'service-workforce'
          environment: 'production'
    metrics_path: /metrics

  # AI Service (Python/FastAPI)
  - job_name: 'service-ai'
    static_configs:
      - targets: ['service-ai:8000']
        labels:
          service: 'service-ai'
          environment: 'production'
    metrics_path: /metrics

  # Identity Service (Node.js)
  - job_name: 'service-identity'
    static_configs:
      - targets: ['service-identity:9090']
        labels:
          service: 'service-identity'
          environment: 'production'
    metrics_path: /metrics

  # Signature Service (Node.js)
  - job_name: 'service-signature'
    static_configs:
      - targets: ['service-signature:9090']
        labels:
          service: 'service-signature'
          environment: 'production'
    metrics_path: /metrics

  # WebSocket Delivery Service
  - job_name: 'service-ws-delivery'
    static_configs:
      - targets: ['service-ws-delivery:9090']
        labels:
          service: 'service-ws-delivery'
          environment: 'production'
    metrics_path: /metrics
