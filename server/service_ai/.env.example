# Environment
ENVIRONMENT=development

# Service
SERVICE_NAME=service_ai
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8080
GRPC_PORT=50052

# Compute mode: cpu or gpu (default: cpu for development)
COMPUTE_MODE=cpu

# GRPC client settings
GRPC_CLIENT_URL=localhost:50051
GRPC_CLIENT_TLS=false
GRPC_CLIENT_CERT_PATH=None
GRPC_CLIENT_KEY_PATH=None

# Database
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cio_attendance_db

# Redis (for caching)
REDIS_URL=redis://redis:6379/0

# ScyllaDB (for authentication state tracking)
SCYLLADB_HOSTS=scylladb
SCYLLADB_PORT=9042
SCYLLADB_KEYSPACE=cio_verify_face
SCYLLADB_USERNAME=cassandra
SCYLLADB_PASSWORD=root1234

# MinIO (for face image storage)
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET_FACES=face-images
MINIO_BUCKET_VERIFICATIONS=verification-images

# Image optimization settings
# Controls bandwidth usage and storage costs
IMAGE_MAX_SIZE=1920                      # Max width/height in pixels (reduces bandwidth)
IMAGE_QUALITY=85                         # JPEG quality 1-100 (85 is good balance)
IMAGE_STORE_ENROLLMENTS=true             # Always store enrollment images
IMAGE_STORE_VERIFICATIONS=false          # Store verification images (set false to save storage)
IMAGE_STORE_FAILED_VERIFICATIONS=false   # Store failed attempts (useful for debugging)

# Model settings
FACE_DETECTOR_MODEL=retinaface_r50_v1
FACE_EMBEDDING_MODEL=arcface_r100_v1
EMBEDDING_DIMENSION=512

# Thresholds
DUPLICATE_THRESHOLD=0.85
VERIFY_THRESHOLD=0.50
MIN_FACE_SIZE=80

# FAISS settings
FAISS_INDEX_TYPE=Flat
FAISS_REBUILD_INTERVAL=3600

# Liveness detection
LIVENESS_ENABLED=true
LIVENESS_THRESHOLD=0.7

# Security
ENCRYPTION_KEY=your-32-byte-encryption-key-here
JWT_SECRET=your-jwt-secret-here

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Storage (use relative paths for local dev, absolute paths for Docker)
# For local development: ./data, ./models, ./data/indexes
# For Docker: /app/data, /app/models, /app/data/indexes
STORAGE_PATH=./data
MODEL_PATH=./models
INDEX_PATH=./data/indexes

# Performance
MAX_WORKERS=4
BATCH_SIZE=32

# Retention policy (days)
SOFT_DELETE_RETENTION=30
